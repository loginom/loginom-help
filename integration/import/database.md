# ![](../../media/app/icons/vendors/dbexport.svg) Импорт из базы данных

## Описание

Компонент предназначен для импорта набора данных из СУБД. Созданный на базе данного компонента узел позволяет импортировать таблицу (или представление) БД, либо результаты выполнения заданного пользователем [SQL](https://wiki.loginom.ru/articles/sql.html)-запроса. Текст SQL-запроса может содержать переменные, что позволяет динамически, в процессе выполнения сценария изменять параметры или текст самого запроса.

**Важно:**

Для работы узла требуется предварительно создать [подключение](../connections/README.md) к базе данных и связать его с входным портом "Подключение". [Пример подключения и работы с БД](../../quick-start/database.md).

### Входные порты

* ![](../../media/app/icons/ports/input-connection-inactive.svg)   [Подключение](..\connections\README.md) - принимает параметры подключения к базе данных.
* ![](../../media/app/icons/ports/optional-input-variable-inactive.svg) [Управляющие переменные](../../scenario/variables/control_variables.md) (необязательный порт) - переменными можно задать значения параметров мастера настройки.

### Выходные порты

* ![](../../media/app/icons/ports/table-inactive.svg) Импортированная таблица.

## Мастер настройки

Мастер настройки содержит следующие параметры:

* **Подключение** - отображает строку подключения к источнику данных. Не доступна для редактирования.
* **Список "Таблицы/Представления"** - в списке осуществляется выбор доступных для импорта таблиц и представлений источника данных. Для отображения списка должно быть активировано подключение с помощью кнопки "Активировать".
* **Область выбора варианта извлечения данных из БД** - содержит две вкладки:
  * *Таблица/Представление* - извлечение заданных полей объекта БД. Для этого в списке "Таблица/Представление" необходимо отметить поля объекта БД,  выбранного в списке "Таблицы/Представления".
  * *SQL запрос* -  формирование результирующего набора данных SQL запросом. Для этого на вкладке "SQL запрос" задается текст запроса к базе данных. При формировании текста SQL запроса существует возможность использования значений переменных входного порта, что позволяет оптимизировать обработку запросов и более гибко настроить работу с базой данных.

Пример 1:

`SELECT * FROM SomeTable WHERE SomeTableID = :VarID`

где ":VarID" - конструкция подстановки значения переменной VarID. При использовании двоеточия (:) в запросе учитывается тип передаваемой переменной.

Пример 2:

`SELECT * FROM SomeTable WHERE %CONDITION%`

где %CONDITION% - конструкция подстановки значения переменной CONDITION. Конструкция %CONDITION% в текст запроса будет заменена на строковое значение переменной CONDITION. Если переменная будет содержать значение: *SomeField = 'Иванов'*, то результирующий запрос будет иметь вид:

`SELECT * FROM SomeTable WHERE SomeField = 'Иванов'`

[Пример подключения и работы с БД](../../quick-start/database.md)
