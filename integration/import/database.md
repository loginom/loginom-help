# ![ ](../../images/icons/data-sources/db-database-import_default.svg) Импорт из базы данных

Компонент предназначен для импорта набора данных из СУБД. Созданный на базе данного компонента узел позволяет импортировать таблицу (или представление) БД, либо результаты выполнения заданного пользователем [SQL](https://wiki.loginom.ru/articles/sql.html)-запроса. Текст SQL-запроса может содержать переменные, что позволяет динамически, в процессе выполнения сценария изменять параметры или текст самого запроса.

> **Важно:** Для работы узла требуется предварительно создать [подключение](../connections/README.md) к базе данных и связать его с входным портом *Подключение*. [Пример подключения и работы с БД](../../quick-start/database.md).

### Входные порты

* ![ ](../../images/icons/app/node/ports/inputs/link_inactive.svg) Подключение — принимает параметры подключения к базе данных;
* ![ ](../../images/icons/app/node/ports/inputs-optional/variable_inactive.svg) [Управляющие переменные](../../scenario/variables/control-variables.md) (необязательный порт) — переменными можно задать значения параметров мастера настройки.

### Выходные порты

* ![ ](../../images/icons/app/node/ports/inputs/table_inactive.svg) Импортированная таблица.

## Мастер настройки

Мастер настройки содержит следующие параметры:

* **Подключение** — отображает строку подключения к источнику данных. Не доступна для редактирования.
* **Список *Таблицы/Представления*** — в списке осуществляется выбор доступных для импорта таблиц и представлений источника данных. Для отображения списка должно быть активировано подключение с помощью кнопки *Активировать*.
* **Область выбора варианта извлечения данных из БД** — содержит две вкладки:
  * **Таблица/Представление** — извлечение заданных полей объекта БД. Для этого в списке *Таблица/Представление* необходимо отметить поля объекта БД, выбранного в списке *Таблицы/Представления*.
  * **SQL запрос** — формирование результирующего набора данных SQL запросом. Для этого на вкладке *SQL запрос* задается текст запроса к базе данных. При формировании текста SQL запроса существует возможность использования значений переменных входного порта, что позволяет оптимизировать обработку запросов и более гибко настроить работу с базой данных.

Пример 1:

`SELECT * FROM SomeTable WHERE SomeTableID = :VarID`

где `:VarID` — конструкция подстановки значения переменной `VarID`. При использовании двоеточия (:) в запросе учитывается тип передаваемой переменной.

Пример 2:

`SELECT * FROM SomeTable WHERE %CONDITION%`

где `%CONDITION%` — конструкция подстановки значения переменной `CONDITION`. Конструкция `%CONDITION%` в тексте запроса будет заменена на строковое значение переменной `CONDITION`. Если переменная будет содержать значение: `SomeField = 'Иванов'`, то результирующий запрос будет иметь вид:

`SELECT * FROM SomeTable WHERE SomeField = 'Иванов'`

> **Примечание:** Eсли конструкция подстановки заключена в кавычки, то в приоритете работают кавычки, а не подстановка.
> Пример:
>
> `SELECT * FROM SomeTable WHERE SomeField = '%CONDITION%'`
>
> При выполнении данного запроса поле SomeField будет сравниваться со строковым значением `%CONDITION%`, а не с содержимым переменной CONDITION.
