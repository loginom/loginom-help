# ![](../../media/app/icons/component-18/component-default-19.svg) Квантование

## Описание

Обработчик разбивает диапазон значений выбранных полей исходного набора на конечное число интервалов. Для разбиения возможно применение различных алгоритмов (см. далее методы квантования), а также использовать [внешние таблицы](./quantization/outdoor-ranges.md) с заданными интервалами квантования.

### Вход

* ![](../../media/app/icons/ports/table-inactive.svg) Входной источник данных (таблица данных). 
* ![](../../media/app/icons/toolbar-18/add-inactive.svg) Добавление еще одного порта. Внешние диапазоны квантования (таблица данных). 

### Выход

* ![](../../media/app/icons/ports/table-inactive.svg) Выходной набор данных (таблица данных). [Описание структуры](./quantization/calculated-columns.md) результирующего набора.
* ![](../../media/app/icons/ports/table-inactive.svg) Диапазоны для квантования (таблица данных). [Описание структуры](./quantization/ranges-quantization.md) таблицы диапазонов.

## Мастер настройки

Мастер настройки состоит из двух основных областей:  область настройки параметров квантования  и область  отображения результатов квантования. Обе области организованы в виде таблицы. Над ними располагается строка состояния входа.

### Область настройки параметров квантования

Таблица этой области состоит из нескольких столбцов:

* **Поле** - содержит поля исходного набора данных, к которым применима процедура квантования. Это поля типа: целый, вещественный,  дата/время.

* **Метод** - поле представлено раскрывающимся списком, из которого необходимо выбрать метод квантования:
  * Ширина - пользователь может выбирать ширину интервала, а количество интервалов рассчитывается автоматически, как отношение разности верхней и нижней границ к заданной ширине. Выставив соответствующие флаги, можно задать:
    * Верхнюю границу - верхняя граница самого высокого интервала;
    * Нижнюю границу - нижняя граница самого высокого интервала;
  * Количество - выбирается количество интервалов, а ширина рассчитывается автоматически, как отношение разности верхней и нижней границ к заданному количеству интервалов. Для этого метода так же можно задать верхнюю и нижнюю границы;
  * Плитка - пользователь выбирает количество интервалов, а компонент задает диапазоны интервалов таким образом, чтобы в каждом интервале было примерно одинаковое количество значений. Имеется несколько способов обработки совпадающих значений:
    * Добавлять в следующий - перенесет значения совпадающих наблюдений в следующий (более высокий) интервал разделения;
    * Сохранять в текущем - сохраняет значения совпадающих наблюдений в текущем (более низком) интервале разделения. Этот метод может привести к тому, что всего будет создано меньше интервалов;
    * Назначать случайно - типы границ интервалов будут определены случайно; возможно включение одинаковых значений в тот или иной интервал случайным образом;
    * Оставить как есть - границы всех интервалов будут иметь тип **>=**, и возможна ситуация, когда совпадающие значения окажутся в разных интервалах;
    * Одинаковые плитки - достижение равного количества значений в интервалах обеспечивается не только подбором диапазонов интервалов, но и подбором типов границ для каждого интервала (**>** или **>=**).
  * Коэффициенты СКО - разбивает значения на интервалы в зависимости от выбранного диапазона, выраженного в количестве **σ** (СКО).
  * [Внешние диапазоны.](./quantization/outdoor-ranges.md)

* **Автоматически** - установленная галочка в этом поле обеспечивает автоматическую настройку параметров квантования выбранного метода.

* **Интервалов** - количество интервалов, на которые будут разбиты значения поля.

* **Минимум** - отображается минимальное значение квантуемого поля.

* **Максимум** - отображается максимальное значение квантуемого поля.

* ![](../../media/app/icons/toolbar-18/toolbar-18-28.svg) - редактировать параметры квантования для выбранного поля;
* ![](../../media/app/icons/toolbar-18/bit-down.svg) - каждое нажатие этой кнопки уменьшит разрядность границ интервалов на один знак после запятой,
* ![](../../media/app/icons/toolbar-18/bit-up.svg) - а этой, наоборот, увеличит на один знак после запятой;

Далее в каждой строке  располагается кнопка ![](../../media/app/icons/toolbar-18/toolbar-18-13.svg)"рассчитать интервалы" и в шапке таблицы ![](../../media/app/icons/toolbar-18/toolbar-18-13.svg)"рассчитать все интервалы". При их нажатии пересчитываются результаты квантования в зависимости от изменения методов и/или настроек параметров. Этот функционал доступен только при состоянии "Вход активирован".

### Область  отображения результатов квантования

В этой области отображаются результаты квантования с возможностью их редактирования:

* Номер интервала;

* Границы интервалов;

* Тип границ;

* Метка интервала (ее можно задавать шаблоном);

* Объём значений, попавших в интервал (отображается в виде гистограммы).

Также в этой области можно настроить открыта/закрыта верхняя или нижняя граница, изменить тип и значение границ каждого интервала.

Настройка шаблона для отображения метки интервала происходит в поле "**Шаблон**". В этом поле можно выбрать один из готовых шаблонов или составить пользовательский. После чего нажать кнопку "Применить шаблон метки" справа от поля. При клике на кнопку "**Образец**" открывается таблица обозначений, которые можно использовать при составлении шаблона.
