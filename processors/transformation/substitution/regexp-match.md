# Замена по регулярному выражению

В каждом значении столбца исходного набора регулярным выражением производится поиск заданной последовательности символов. Если последовательность обнаружена, то значение заменяется на новое.

> **Примечание:** Регулярное выражение — это шаблон поиска последовательностей символов. Задается на языке правил, использующем подмножество [регулярных выражений](https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5_%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F) Перла (Perl regular expressions, regex). И замена по регулярному выражению применима только к данным строкового типа.

Пример:

В обозначении банковского БИК должны содержаться только цифры. Регулярное выражение `\D` обозначает все символы, не являющиеся цифрами. В некоторых значениях БИК содержатся буквы `О` и `З` вместо цифр. Эти значения заменяются строкой `Ошибочный БИК`.

 <table>
 <tr><th>Исходные данные</th><th colspan="2">Значения полей таблицы замен</th><th>Результат замены</th></tr>
 <tr><td>БИК банка</td><th>Замена</th><th>Значение</th><td>БИК банка Замена</td></tr>
 <tr><td>40147О00</td><td rowspan="4" valign="top">\D</td><td Rowspan="4" valign="top">Ошибочный БИК</td><td>Ошибочный БИК</td></tr>
 <tr><td>40147781</td><td>40147781</td></tr>
 <tr><td>40155000</td><td>40155000</td></tr>
 <tr><td>4017З001</td><td>Ошибочный БИК</td></tr>
</table>

Регулярное выражение используется и при замене не попавших в таблицу замен значений. Если у параметра *Заменять остальное* выбрать пункт *На регулярное выражение*, то для значений, не найденных при помощи таблицы замен, используется зарезервированное обозначение `$1`. В строке, задающей новое значение, символы `$1` будут заменены на исходное значение.

Примеры:

Параметр *Заменять остальное* можно использовать как  с таблицей замен.
<table>
 <tr><th align="left">Исходные данные</th><th colspan="2">Таблица замен</th><th rowspan="2" align="left" valign="top">Заменять остальное:</br>На регулярное выражение</th><th align="left" valign="top">Результат замены</th></tr>
 
 
 <tr><td>БИК банка</td><th>Замена</th><th>Значение</th><td>БИК банка Замена</td></tr>
 
 
 <tr><td>40147О00</td><td rowspan="4" valign="top">\D</td><td Rowspan="4" valign="top">Ошибочный БИК</td><td rowspan="4" valign="top" align="left">БИК $1 указывается в платежном поручении</td><td align="left">Ошибочный БИК</td></tr>
 
 
 <tr><td>40147781</td><td align="left">БИК 40147781 указывается в платежном поручении</td></tr>


 <tr><td>40155000</td><td align="left">БИК 40155000 указывается в платежном поручении</td></tr>
 
 
 <tr><td>4017З001</td><td align="left">Ошибочный БИК</td></tr>
</table>

Так и без нее, для дополнения имеющейся записи.

<table>
 <tr><th align="right">Исходные данные</th><th align="left">Заменять остальное: На регулярное выражение</th><th align="left">Результат замены</th></tr>
 <tr><td align="right">40147000</td><td rowspan="4" valign="top" align="left">БИК $1 указывается в платежном поручении</td><td align="left">БИК 40147000 указывается в платежном поручении</td></tr>
 <tr><td align="right">40147781</td><td align="left">БИК 40147781 указывается в платежном поручении</td></tr>
 <tr><td align="right">40155000</td><td align="left">БИК 40155000 указывается в платежном поручении</td></tr>
 <tr><td align="right">40173001</td><td align="left">БИК 40173001 указывается в платежном поручении</td></tr>
</table>