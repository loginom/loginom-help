# ![](../../media/app/icons/component-18/component-default-15.svg) Группировка

## Описание

Группировка выполняет действия над набором данных аналогичные действиям SQL-запроса с применением предложения "GROUP BY". Обработчик позволяет объединять записи избранных полей в группы, а для оставшихся полей вычислять статистические показатели (сумму, среднее, минимум и т.д.). Для каждой группы возвращается одна строка. Статистические показатели (или [функции агрегации](../aggregation-functions.md)) при этом вычисляются для каждой группы, а не для всего набора в целом.

%accordion%Пример:%accordion%

**Исходная таблица:**

| Дата | Товар | Вес, кг |
| -------- | ---------- | ------------ |
| 12.07.2015 | Яблоки | 20 |
| 12.07.2015 | Яблоки | 18 |
| 12.07.2015 | Помидоры | 24 |
| 13.07.2015 | Помидоры | 22 |
| 13.07.2015 | Груши | 12 |
| 13.07.2015 | Груши | 16 |

В качестве полей-групп выберем поля "Дата" и "Товар", а поле-параметр (по которому будет проводиться агрегация) - "Вес, кг". Для примера применим три функции агрегации: сумма, количество записей и среднее.

**Результирующая таблица:**

| Дата | Товар | Вес(Сумма) | Вес(Количество) | Вес(Среднее) |
| -------- | -------- | -------- | -------- | -------- |
| 12.07.2015 | Помидоры | 24 | 1 | 24 |
| 12.07.2015 | Яблоки | 38 | 2 | 19 |
| 13.07.2015 | Груши | 28 | 2 | 14 |
| 13.07.2015 | Помидоры | 22 | 1 | 22 |

Как видно из примера, группа образуется уникальным сочетанием значений полей, выбранных в качестве группировочных.

%/accordion%

### Вход

* ![](../../media/app/icons/ports/table-inactive.svg) Входной источник данных (таблица данных). 

### Выход

* ![](../../media/app/icons/ports/table-inactive.svg) Выходной набор данных (таблица данных).

## Мастер настройки

Окно мастера поделено на две области.

* Область "Доступные поля" - содержит список полей входного набора данных.

* Область "Выбранные поля" - делится на списки «Группа» и «Показатели»:
  * группа - поля группировки;
  * показатели - поля, по которым рассчитываются функции агрегации.

Для настройки требуется переместить поля входного набора в списки «Группа» или «Показатели», перетаскивая их мышью. Также это можно сделать при помощи кнопок перемещения.

Настройка метода агрегации для каждого показателя производится в отдельном окне. Чтобы его открыть, нужно дважды кликнуть по полю в списке "Параметры" или вызвать это окно из контекстного меню. Далее отметить галочками нужные методы. Результат для каждого метода будет записан в отдельный столбец.

[Доступные методы агрегации](../aggregation-functions.md)

Фильтрация над списком доступных полей позволяет найти поле по имени или его части.

Имеется возможность "[Кэшировать значения измерений](../../scenario/caching.md)"

При установленном  флаге  «Сортировать результирующие данные» данные в результирующей таблице будут отсортированы по полям группировки в зависимости от их последовательности расположения в списке "Группы".

----

**Смотри также:**

* [Сортировка](../../processors/transformation/sorting.md)
