# ДЕРЕВО В ТАБЛИЦУ

Обработчик преобразует данные, представленные в иерархической древовидной форме, в таблицу. Отмеченные узлы будут выведены в колонки выходного набора данных.

## Порты

## Вход

![Входной источник данных](../../images/icons/ports/input_table_inactive.svg) **Входное дерево** — набор данных в иерархической древовидной форме.

## Выход

![Выходной источник данных](../../images/icons/ports/output_table_inactive.svg) **Выходной набор данных** — таблица данных.

## Мастер настройки

Мастер настройки представляет собой отображение дерева с возможностью выбора некоторых или всех узлов дерева. Отмеченные узлы будут выведены в колонки выходного набора данных.

Доступные действия представлены в виде кнопок на панели инструментов и в меню таблицы с отображением дерева данных:

* **Выбрать все** – помечает все узлы.
* **Снять выделение со всех** – снимает выделение со всех узлов.
* **Инвертировать выделение** – возвращает узлы в предыдущее состояние.

Логика выбора узлов:

* При выборе узла выбираются так же и его родители, вплоть до корня.
* При снятии выделения с ветки выделение снимается и со всех потомков.
* Глобальный индекс узла - узел отсутствует в древовидной структуре данных, однако он появляется в отображении дерева и указывает на индекс, используемый в узле-массиве. Его можно выбрать, при этом также выбирается и узел массива.
Узел получает индекс -1, который учитывается при сортировке.
При выборе узла для него формируется колонка с именем узла массива с добавлением  "_global_index" и меткой узла массива с добавлением "|Глобальный индекс".

> **Важно:** Компонент будет выдавать ошибку при выходе со страницы настройки или при выполнении, если у него нет ни одного выбранного узла.

**Дублировать значения родительских узлов** – если в структуре имеется родительский узел и последовательность потомков, значение родительского узла будет продублировано для каждой строки, образованной из последовательности потомков.

**Генерировать составные метки полей** – при наличии данного флага используется составная метка узла массива: в метках полей будет отражена иерархия относительно корневого элемента.
