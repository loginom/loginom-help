# ![Условие](../../media/app/icons/vendors/condition.svg) Условие

## Описание

Компонент используется в точке разветвления сценария в качестве переключателя. В соответствии с заданными ему условиями выполняется только одна ветка сценария и блокируется выполнение всех остальных.

## Порты

Изначально входных и выходных портов нет, они создаются пользователем в мастере настройки. Порты могут быть следующих типов:

### Вход

* ![Входные переменные](../../media/app/icons/ports/input-variable-inactive.svg) **Входные переменные** — набор переменных.
* ![Входной источник данных](../../media/app/icons/ports/table-inactive.svg) **Входной источник данных (таблица данных)**.

### Выход

* ![Выходные переменные](../../media/app/icons/ports/output-variable-inactive.svg) **Выходные переменные** — набор переменных.
* ![Выходной набор данных](../../media/app/icons/ports/table-inactive.svg) **Выходной набор данных** (таблица данных).

## Мастер настройки

### Шаг 1. Настройка портов узла

Здесь задается наличие необходимых портов. Каждому порту можно задать тип, имя и название, которое будет отображаться при наведении курсора на него.

* ![Создать новый порт](../../media/app/icons/toolbar-18/toolbar-18-27.svg) — создать новый порт входа:
  * ![Для переменных](../../media/app/icons/ports/input-variable-hover.svg) — для переменных,
  * ![Для таблицы](../../media/app/icons/ports/table-hover.svg) — для таблицы.
* ![Смещение порта вниз](../../media/app/icons/toolbar-18/down.svg) ![Смещение порта вверх](../../media/app/icons/toolbar-18/top.svg) — путем смещения выделенного порта определить его положение относительно узла компонента.
* ![Редактировать параметры порта](../../media/app/icons/toolbar-18/toolbar-18-28.svg) — редактировать параметры порта.
* ![Создание выхода](../../media/app/icons/toolbar-18/checked.svg) — для выделенного входного порта будет создан порт выхода в каждой ветке.
* ![Удалить порт](../../media/app/icons/toolbar-18/toolbar-18-8.svg) — удалить порт.
* ![Удалить все порты](../../media/app/icons/toolbar-18/toolbar-18-127.svg) — удалить все порты.

### Шаг 2. Настройка списка условий

* **Список ветвей условия** — список ветвей, содержащих условия для полей и переменных, поступающих с портов входа. Выявление переключателем активной ветки происходит по следующему принципу: ветки проверяются на истинность последовательно по списку, начиная с самой верхней; на первой попавшейся ветке со значением "истина" проверка останавливается, она становится активной и блокируются остальные, даже если ниже по списку остались истинные. Если все ветки примут значение "ложь", то будет активизирована специальная ветка "Иначе".
  * ![Добавить ветку](../../media/app/icons/toolbar-18/toolbar-18-27.svg) — добавить ветку;
  * ![Смещение ветки вниз](../../media/app/icons/toolbar-18/down.svg) ![Смещение ветки вверх](../../media/app/icons/toolbar-18/top.svg) — путем смещения выделенной ветки определить ее приоритет;
  * ![Удалить ветку](../../media/app/icons/toolbar-18/toolbar-18-8.svg) — удалить ветку;
  * ![Удалить все ветки](../../media/app/icons/toolbar-18/toolbar-18-127.svg) — удалить все ветки.
* **Условие** — область конфигурации условий для конкретной ветки, отображается при выделении ветки в списке:
  * ![Добавить новое условие](../../media/app/icons/toolbar-18/add.svg) — добавить в ветку новое условие, после нажатия открывается окно для его настройки:
    * **Поле** — содержит список всех полей и переменных, поданных на входные порты компонента; выбранный объект будет использован для сравнения.
    * [**Агрегация**](../aggregation-functions.md) — метод получения итогового значения для объекта; доступен только для полей.
    * **Условие** — выбор метода сравнения.
    * **Сравниваемое значение** — значение, с которым будет сравниваться выбранный объект.
  * "**И/ИЛИ**" — кнопка-переключатель появляется между двумя условиями в ветке:
    * "**И**" — связываемые условия дадут значение "истина", если они оба истинны;
    * "**ИЛИ**" — связываемые условия дадут значение "истина", если истинно хотя бы одно из них.
  * ![**Удалить все условия**](../../media/app/icons/toolbar-18/toolbar-18-127.svg) — удалить все условия для выбранной ветки.
* **Режим отладки** — установка данного флага позволяет сделать выбранные ветки активными независимо от истинности их условий. Применяется с целью проверки корректности данных на выходных портах. В списке напротив флага можно выбрать режим отладки:
  * **Все ветви** — активация всех ветвей.
  * **Иначе** — активация ветви "Иначе".
  * В списке отображаются добавленные пользователем ветви, можно выбрать любую из них.
