# ![Условие](../../images/icons/vendors/condition.svg) Условие

## Описание

Компонент используется в точке разветвления сценария в качестве переключателя. В соответствии с заданными ему условиями выполняется только одна ветка сценария и блокируется выполнение всех остальных.

## Порты

Изначально входных и выходных портов нет, они создаются пользователем в мастере настройки. Порты могут быть следующих типов:

### Вход

* ![Входные переменные](../../images/icons/ports/input_variable_inactive.svg) **Входные переменные** — набор переменных.
* ![Входной источник данных](../../images/icons/ports/input_table_inactive.svg) **Входной источник данных** — таблица данных.

### Выход

* ![Выходные переменные](../../images/icons/ports/output_variable_inactive.svg) **Выходные переменные** — набор переменных.
* ![Выходной набор данных](../../images/icons/ports/output_table_inactive.svg) **Выходной набор данных** — таблица данных.

## Мастер настройки

### Шаг 1. Настройка портов узла

Здесь задается наличие необходимых портов. Каждому порту можно задать тип, имя и название, которое будет отображаться при наведении курсора на него.

* ![Создать новый порт](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_plus_default.svg) — создать новый порт входа:
  * ![Для переменных](../../images/icons/ports/input_variable_hover.svg) — для переменных;
  * ![Для таблицы](../../images/icons/ports/input_table_hover.svg) — для таблицы.
* ![Смещение порта вниз](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_movedown_default.svg) ![Смещение порта вверх](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_moveup_default.svg) — путем смещения выделенного порта определить его положение относительно узла компонента.
* ![Редактировать параметры порта](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_edit_default.svg) — редактировать параметры порта.
* ![Создание выхода](../../media/app/icons/toolbar-18/checked.svg) — для выделенного входного порта будет создан порт выхода в каждой ветке.
* ![Удалить порт](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_delete_default.svg) — удалить порт.
* ![Удалить все порты](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_delete-all_default.svg) — удалить все порты.

### Шаг 2. Настройка списка условий

* **Список ветвей условия** — список ветвей, содержащих условия для полей и переменных, поступающих с портов входа. Выявление переключателем активной ветки происходит по следующему принципу: ветки проверяются на истинность последовательно по списку, начиная с самой верхней; на первой попавшейся ветке со значением "истина" проверка останавливается, она становится активной и блокируются остальные, даже если ниже по списку остались истинные. Если все ветки примут значение "ложь", то будет активизирована специальная ветка "Иначе".
  * ![Добавить ветку](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_plus_default.svg) — добавить ветку;
  * ![Смещение ветки вниз](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_movedown_default.svg) ![Смещение ветки вверх](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_moveup_default.svg) — путем смещения выделенной ветки определить ее приоритет;
  * ![Удалить ветку](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_delete_default.svg) — удалить ветку;
  * ![Удалить все ветки](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_delete-all_default.svg) — удалить все ветки.
* **Условие** — область конфигурации условий для конкретной ветки, отображается при выделении ветки в списке:
  * ![Добавить новое условие](../../media/app/icons/toolbar-18/add.svg) — добавить в ветку новое условие, после нажатия открывается окно для его настройки:
    * **Поле** — содержит список всех полей и переменных, поданных на входные порты компонента; выбранный объект будет использован для сравнения.
    * [**Агрегация**](../func/aggregation-functions.md) — метод получения итогового значения для объекта; доступен только для полей.
    * **Условие** — выбор метода сравнения.
    * **Сравниваемое значение** — значение, с которым будет сравниваться выбранный объект.
  * "**И/ИЛИ**" — кнопка-переключатель появляется между двумя условиями в ветке:
    * "**И**" — связываемые условия дадут значение "истина", если они оба истинны;
    * "**ИЛИ**" — связываемые условия дадут значение "истина", если истинно хотя бы одно из них.
  * ![**Удалить все условия**](../../images/icons/toolbar-controls_18x18/toolbar-controls_18x18_delete-all_default.svg) — удалить все условия для выбранной ветки.
* **Режим отладки** — установка данного флага позволяет сделать выбранные ветки активными независимо от истинности их условий. Применяется с целью проверки корректности данных на выходных портах. В списке напротив флага можно выбрать режим отладки:
  * **Все ветви** — активация всех ветвей;
  * **Иначе** — активация ветви "Иначе";
  * В списке отображаются добавленные пользователем ветви, можно выбрать любую из них.
