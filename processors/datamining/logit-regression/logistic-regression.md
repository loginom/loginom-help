# ![](../../media/app/icons/vendors/logregression.svg) Логистическая регрессия

## Описание

**Логистическая регрессия** — это разновидность множественной регрессии, общее назначение которой состоит в анализе линейной связи между несколькими независимыми переменными и зависимой переменной.

С помощью логистической регрессии можно оценивать вероятность того, что событие наступит для конкретного испытуемого (больной/здоровый, возврат кредита/дефолт и т.д.).

>**Важно:** Входные данные никогда не должны содержать пропусков, выходные данные не должны содержать пропусков во время обучения.

## Порты

### Вход

* Входной источник данных (таблица данных).

### Выходы

* Выход регрессии (таблица данных);
* Коэффициенты регрессионной модели (таблица данных);
* [Сводка](./report.md) (переменные).

#### Коэффициенты регрессии

Описание коэффициентов представлено в таблице:

| Поле | Описание |
|:--------------------|:----------|
| Имена входных полей | Список имен входных полей |
| Метки входных полей | Список меток (названий) входных полей |
| Уникальные значения | Список уникальных значений полей |
| Коэффициенты | Характеристики связи между зависимой $$y$$ и независимой переменной $$x$$ |
| [Стандартное отклонение](https://wiki.loginom.ru/articles/mean-square-deviation.html) | Статистическая характеристика распределения случайной величины, показывающая среднюю степень разброса значений величины относительно математического ожидания |
| [Критерий Вальда](https://wiki.loginom.ru/articles/wald-test.html) | Оценка значимости коэффициента при независимой переменной модели  |
| P-значение критерия Вальда | Используется для оценки точности критерия Вальда |
| [Отношение шансов](https://wiki.loginom.ru/articles/odds-ratio.html) | Отношение вероятности того, что событие произойдет к вероятности того, что событие не произойдет |
| [Нижняя граница ДИ](https://wiki.loginom.ru/articles/confidence-interval.html) | Нижняя граница доверительного интервала |
| [Верхняя граница ДИ](https://wiki.loginom.ru/articles/confidence-interval.html) | Верхняя граница доверительного интервала |

## Мастер настройки узла

* Настройки нормализации (см. ["Нормализация"](http://localhost:4000/processors/normalization/));
* [Разбиение на множества](#razbienie-na-mnozhestva);
* [Настройка логистической регрессии](#nastroyka-logisticheskoy-regressii).

### Разбиение на множества

Окно "Разбиение на множества" мастера настройки узла содержит следующие параметры:

* Размер обучающего и тестового множества в процентах или строках;
* Метод разбиения на обучающее и тестовое множество. Существует два метода разбиения:
  * **Случайный** — случайно разбивает множество строк на обучающее и тестовое множество;
  * **Последовательный** — строки выбираются последовательно, т.е., сначало выделяется множество с номером 0, затем 1 и т.д. Множества можно менять местами (см. рисунок 1).
* Метод валидации (см. ["Валидация моделей"](http://localhost:4000/processors/validation.html))

![](./logistic-regression-1.PNG)

### Настройка логистической регрессии

Данная страница мастера настройки узла содержит следующие параметры:
  
* Тип события.
* Автоматическая настройка:
  * Если включена, то можно настраивать приоритеты:
    * Приоритет точность/скорость;
    * Приоритет точные/недостоверные данные;
    * Приоритет меньше/больше факторов.
  * Если выключена, то можно выбирать алгоритм отбора факторов и защиту от переобучения:
    * Принудительное включение;
    * Пошаговое включение;
    * Пошаговое исключение;
    * Пошаговое включение/исключение;
    * **Ridge** — это один из методов понижения размерности. Часто его применяют для борьбы с переизбыточностью данных, когда независимые переменные коррелируют друг с другом. Следствием этого является плохая обусловленность матрицы $$X^T X$$ и неустойчивость оценок коэффициентов регрессии.
    * **LASSO** — аналогичен Ridge во всем кроме отличия в регуляризирующем операторе. Он представляет собой не сумму квадратов, а сумму модулей коэффициентов.
    * **Elastic-Net** — модель регрессии с двумя регуляризаторами L1, L2. Частными случаями являются модели LASSO L1 = 0 и Ridge регрессии L2 = 0.
* Денормализировать коэффициенты модели.
* Использовать детальные настройки — позволяет более детально настроить логистическую регрессию (появляется дополнительная страница мастера).

### Детальная настройка логистической регрессии

#### Настройки метода

* Точность решения;
* Порог отсечения — расчетное значение уравнения регрессии (изменяется от 0 до 1);
* Включить в модель константу (зависимую переменную);
* Устранение мультиколлинеарности (сильной корреляции двух или нескольких признаков, в матрице $$X$$ это проявляется в виде "почти" линейной зависимости столбцов).

#### Настройка расчета статистики

* Рассчитать [доверительный интервал](https://wiki.loginom.ru/articles/confidence-interval.html);
* Режим расчета статистики.

#### Настройка регуляризации

* Установка коэффициента L1-регуляризации;
* Установка коэффициента L2-регуляризации.

#### Настройка отбора факторов

* Критерий отбора факторов:
  * [Отношение правдоподобия](https://wiki.loginom.ru/articles/plausibility-function.html);
  * Информационный критерий Акаике;
  * Информационный критерий Акаике скорректированный;
  * Информационный критерий Байеса;
  * Информационный критерий Ханнана-Квина.
* Порог значимости при добавлении фактора;
* Порог значимости при исключении фактора;
* Иерархия взаимодействий.