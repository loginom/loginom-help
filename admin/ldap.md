# LDAP

Использование LDAP аутентификации позволяет авторизоваться на сервере Loginom через LDAP сервер.

>**Примечание:** В качестве LDAP сервера может использоваться как Active Directory, так и OpenLDAP.

## Настройки

Настройки подключения к LDAP серверу рассмотрены в статье [Параметры](./parameters.md#parametry-ldap), изменение способа *Аутентификации* пользователя рассмотрено в статье [Пользователи](./users.md).

## Аутентификация

Для *Аутентификации* используется введенное на стартовой странице Loginom имя и пароль пользователя:

1. По указанному имени производится поиск существующего пользователя на Loginom сервере.
2. Если пользователь найден и у него установлен способ аутентификации "LDAP" или же пользователь не найден, то проводится попытка *Аутентификации* через LDAP сервер.

>**Примечания:**
>
> * При этом не могут быть использованы пустое имя пользователя или пустой пароль, так как такой пользователь должен получать анонимный доступ (в этом случае сразу выдается ошибка "Неверное имя пользователя или пароль").
>
> * Форматы DN, UPN или domain\user не поддерживаются и приведут к появлению ошибки "Неверное имя пользователя или пароль".

Проверка *Аутентификации* пользователя проходит в два этапа:

1. Поиск учетной записи по введенному имени в каталоге Базовый домен (и его подкаталогах) соответствующего Фильтру LDAP;
   * Как правило, здесь происходит проверка того, что найденная запись является записью пользователя и является членом заданной группы.
2. Аутентификация этого пользователя с полным доменным именем (DN) из найденной учетной записи и введенным паролем.
   * В случае использования SASL аутентификации, для логина используется введенное имя пользователя а не полное доменное имя

### Автоматическое добавление пользователя

В случае успешной *Аутентификации* пользователя через LDAP и отсутствия данного пользователя в списке пользователей Loginom сервера, он создается автоматически.

В качестве имени берется введенное имя пользователя, выставляется способ аутентификации "LDAP", не включена ни одна роль (администратора, разработчика, просмотра отчетов, запуска в режиме службы).
